{% extends "base.html" %}
{% block title %}Settings{% endblock %}
{% block content %}
<div class="d-flex p-2">
    <div class="me-auto">
        <h1>Trackers</h1>
    </div>
    <div>
        <button id="btnAddTracker" type="button" class="btn btn-secondary btn-lg" onclick="showAddTrackerModal()" {% if
            button_disabled%}disabled{% endif %}>
            <span>Add Tracker</span>
        </button>
    </div>
</div>

<ul id="settings-nav" class="nav nav-underline">
    <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#">Trackers</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" aria-current="page" href="{{url_for('settings.torrent_clients')}}">Torrent Clients</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" aria-current="page" href="{{url_for('settings.master_password')}}">Master Password</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" aria-current="page" href="{{url_for('settings.tasks')}}">Tasks</a>
    </li>
</ul>

<!-- Tracker Modal -->
<div class="modal fade" id="trackerModal" tabindex="-1" aria-labelledby="addTrackerLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="addTrackerLabel">Add Tracker</h1>
                <button type="button" class="btn-close modal-x" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <fieldset>
                        <div class="form-floating mb-2">
                            <input class="form-control" id="trackerName">
                            <label for="trackerName"">Tracker Name</label>
                        </div>
                        <div class="form-floating mb-2">
                            <input id="loginUrl" class="form-control">
                            <label for="loginUrl">Login URL</label>
                        </div>
                        <div class="form-floating mb-2">
                            <input id="username" class="form-control">
                            <label for="username">Username</label>
                        </div>
                        <div class="form-floating mb-2">
                            <input id="password" class="form-control">
                            <label for="password" type="password">Password</label>
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="addTracker()">Save</button>
            </div>
        </div>
    </div>
</div>

<!-- Main page body -->
{% if is_master_password_set == False %}

<div class="alert alert-danger mx-5 my-3">
    <p>Your master password is not set. Unable to add or modify trackers until a master password is set.</p>
    <p>
        <a href="{{url_for('settings.master_password')}}">Set master password</a>
    </p>
</div>

{% else %}



{% endif %}

{% endblock %}